{"version":3,"file":"static/js/75.5eb57452.chunk.js","mappings":"uOACA,EAAuB,qBAAvB,EAAoD,sBAApD,EAAmF,uBAAnF,EAAiH,qB,SCIlG,SAASA,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACM,KAAVJ,GAGJA,IAASK,EAAAA,EAAAA,IAAYL,GAAOM,MAAK,SAAAC,GAAK,OAAIX,EAAUW,QACnD,CAACP,IASJ,OACE,iCACE,kBAAMQ,UAAWC,EAAQC,SATR,SAAAC,GACnBA,EAAEC,gBACF,IAAMC,EAAOF,EAAEG,cACff,EAAgB,CAAEC,MAAOa,EAAKE,QAAQf,MAAMgB,QAC5CH,EAAKI,SAKH,WACE,kBAAOC,KAAK,OAAOC,KAAK,QAAQX,UAAWC,KAC3C,mBAAQS,KAAK,SAASV,UAAWC,EAAjC,wBAIF,0BACGd,GACCA,EAAOyB,QAAQC,KAAI,SAAAd,GAAK,OACtB,eAAmBC,UAAWC,EAA9B,UACE,UAAC,KAAD,CAAMa,GAAE,kBAAaf,EAAMgB,IAAMC,MAAO,CAAEC,KAAMvB,GAAhD,UACG,IACAK,EAAMmB,UAHFnB,EAAMgB,OAOlB5B,GAAmC,IAAzBA,EAAOgC,gBAChB,6D,0MC3CJC,EAAU,mCACVC,EAAW,+BAEV,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,sGACkBC,GAAAA,CAAM,GAAD,OACvBF,EADuB,uCACgBD,IAFvC,cACCI,EADD,gBAIeA,EAASC,KAJxB,cAICC,EAJD,yBAKEA,GALF,kEAQA,SAAe7B,EAAtB,+CAAO,OAAP,oBAAO,WAA2Bc,GAA3B,yFACkBY,GAAAA,CAAM,GAAD,OACvBF,EADuB,iCACUD,EADV,yBACkCT,IAFzD,cACCa,EADD,gBAIeA,EAASC,KAJxB,cAICC,EAJD,yBAKEA,GALF,kEAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,yFACkBL,GAAAA,CAAM,GAAD,OACvBF,EADuB,kBACLO,EADK,oBACcR,IAFrC,cACCI,EADD,gBAIeA,EAASC,KAJxB,cAICC,EAJD,yBAKEA,GALF,kEAQA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAAiCD,GAAjC,yFACkBL,GAAAA,CAAM,GAAD,OACvBF,EADuB,kBACLO,EADK,4BACsBR,IAF7C,cACCI,EADD,gBAIeA,EAASC,KAJxB,cAICC,EAJD,yBAKEA,GALF,kEAOA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAAiCF,GAAjC,yFACkBL,GAAAA,CAAM,GAAD,OACvBF,EADuB,kBACLO,EADK,4BACsBR,IAF7C,cACCI,EADD,gBAIeA,EAASC,KAJxB,cAICC,EAJD,yBAKEA,GALF","sources":["webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js","sercices/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\",\"list\":\"Movies_list__hqYjd\"};","import { useEffect, useState } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { fetchMovies } from '../../sercices/moviesApi';\nimport s from './Movies.module.css';\n\nexport default function Movies() {\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const location = useLocation();\n  \n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    query && fetchMovies(query).then(movie => setMovies(movie));\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.prevenDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.element.query.value });\n    form.reset();\n  };\n  \n  return (\n    <>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"query\" className={s.input} />\n        <button type=\"submit\" className={s.button}>\n          Search\n        </button>\n      </form>\n      <ul>\n        {movies &&\n          movies.results.map(movie => (\n            <li key={movie.id} className={s.list}>\n              <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                {' '}\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        {movies && movies.total_results === 0 && (\n          <p>No results on your search</p>\n        )}\n      </ul>\n    </>\n  );\n}\n","import axios from 'axios';\nconst KEY_API = '024bf82d4805f650033dc69997860333';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport async function fetchPopularMovies() {\n  const response = await axios(\n    `${BASE_URL}/trending/movie/day?api_key=${KEY_API}`\n  );\n  const dates = await response.data;\n  return dates;\n}\n\nexport async function fetchMovies(name) {\n  const response = await axios(\n    `${BASE_URL}/search/movie?api_key=${KEY_API}&page=1&query=${name}`\n  );\n  const dates = await response.data;\n  return dates;\n}\nexport async function fetchMovieDetails(movieId) {\n  const response = await axios(\n    `${BASE_URL}/movie/${movieId}?api_key=${KEY_API}`\n  );\n  const dates = await response.data;\n  return dates;\n}\n\nexport async function fetchMovieCredits(movieId) {\n  const response = await axios(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${KEY_API}`\n  );\n  const dates = await response.data;\n  return dates;\n}\nexport async function fetchMovieReviews(movieId) {\n  const response = await axios(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY_API}`\n  );\n  const dates = await response.data;\n  return dates;\n}\n"],"names":["Movies","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","fetchMovies","then","movie","className","s","onSubmit","e","prevenDefault","form","currentTarget","element","value","reset","type","name","results","map","to","id","state","from","title","total_results","KEY_API","BASE_URL","fetchPopularMovies","axios","response","data","dates","fetchMovieDetails","movieId","fetchMovieCredits","fetchMovieReviews"],"sourceRoot":""}